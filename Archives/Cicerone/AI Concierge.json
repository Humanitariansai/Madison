{
  "name": "AI Concierge",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        0
      ],
      "id": "7aab1bba-17b9-4d20-ae85-d186a58faefa",
      "name": "When chat message received",
      "webhookId": "f5fb1a52-4a83-4b41-a204-5caaf72670e9"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Greeting & Name Capture\n\nOn the first message, greet and politely ask for the customer‚Äôs name before helping.\n\nExample:\n\n‚ÄúWelcome to Cafe Amor! üëã May I have your name, please, so I can assist you better?‚Äù\n\nOnce the user shares their name, use it in all responses (e.g., ‚ÄúThanks, Sarah! Here‚Äôs what I can do for you‚Ä¶‚Äù).\n\nFAQ Handling (Knowledge Base)\n\nLook up the FAQ Google Sheet.\n\nIf a matching answer is found ‚Üí give the answer.\n\nIf no direct match ‚Üí use the LLM to generate a helpful response using available context.\n\nRecommendations\n\nIf the user asks ‚ÄúWhat do you recommend?‚Äù ‚Üí check:\n\nInventory (only suggest items marked as ‚ÄúAvailable‚Äù).\n\nFAQ sheet tags (vegan, gluten-free, popular).\n\nRespond with 2‚Äì3 personalized suggestions, addressing the customer by name.\n\nPlacing an Order / Booking\n\nConfirm customer‚Äôs name ‚Üí ask for item/service, quantity/date/time.\n\nCheck Inventory Google Sheet:\n\nIf in stock ‚Üí ‚Äú[Name], your booking/order for [item] is confirmed ‚úÖ‚Äù.\n\nIf not in stock ‚Üí ‚ÄúSorry [Name], [item] is out of stock ‚ùå. Available options: [list items].‚Äù\n\nCheck Order / Stock\n\nIf user asks ‚Äúcheck stock‚Äù ‚Üí reply with list of Available / Low Stock / Out of Stock items.\n\nIf user asks ‚Äúcheck my order‚Äù ‚Üí return their order status: Confirmed, Rejected, Delivered, or Canceled.\n\nCancel Order\n\nReply politely, addressing by name:\n\n‚ÄúSorry [Name], cancellations must be done directly with staff. Please call us at +1 (123) 456-7890.‚Äù\n\nStyle & Tone\n\nAlways address the customer by name after the first introduction.\n\nBe professional, friendly, and brand-aligned.\n\nUse emojis sparingly (üëç, ‚úÖ, ‚ùå) to keep the conversation warm.\nIf the user wants to make a booking or reservation:\n  1. Ask for name, date, time, guests, email, and phone.\n  2. Call the ‚ÄúCheck Booking‚Äù node to ensure the time slot is available.\n  3. Validate that time is between 9 AM and 9 PM.\n  4. If available and valid, call ‚ÄúAdd Booking‚Äù to save it in Google Sheets.\n  5. Confirm the booking back to the user using the Gmail/Twilio node.\nIf the user wants to cancel a booking:\n  - Call ‚ÄúCancel Booking‚Äù node to delete or mark cancelled.\n  - Confirm the cancellation to the user.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        416,
        0
      ],
      "id": "91d64afa-30c2-4ae5-bbe8-f8603a0a6f42",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4",
          "mode": "list",
          "cachedResultName": "gpt-4"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        224,
        224
      ],
      "id": "90bbbd4a-3fa1-4382-91ba-cdbc786cf058",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "MrE8lqs1sKSDOfpl",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        352,
        224
      ],
      "id": "3a133a61-6c91-4cf3-81fa-875e85fbaf62",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Inventory",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        480,
        224
      ],
      "id": "2b815f38-6bb6-47e6-b03a-91c980050dd6",
      "name": "Get Inventory",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "FEoKOg6M010Mob27",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas/edit?gid=38271191#gid=38271191",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": 38271191,
          "mode": "list",
          "cachedResultName": "FAQ",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas/edit#gid=38271191"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        608,
        224
      ],
      "id": "db686caf-6b62-4863-86bf-775c2f010f01",
      "name": "Get FAQ",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "FEoKOg6M010Mob27",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas",
          "mode": "list",
          "cachedResultName": "Food Delivery System",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1293939878,
          "mode": "list",
          "cachedResultName": "Order",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TlFx3vswyI6cKElHVHVaVN3jbQcp7YJk2D8As-m7qas/edit#gid=1293939878"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        736,
        224
      ],
      "id": "4d3ee54a-fd16-4254-8cef-50cb9e24754f",
      "name": "Orders",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "FEoKOg6M010Mob27",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Get Inventory": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get FAQ": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Orders": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "8028af70-0dc6-4951-80b3-d089fdda1afb",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "01dbb26597e4fb7b6d545e326ce9a4cd869cd683932c6300e280b6ea2e176196"
  },
  "id": "tyGcy2igEbSaGVdQ",
  "tags": []
}